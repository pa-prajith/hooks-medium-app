import React from 'react'
import classNames from 'classnames'
import {range} from 'utils'
import {Link} from 'react-router-dom'

const Pagination = ({total, currentPage, url, limit}) => {
    const totalPages = Math.ceil(total/limit);
    const pageArray = range(1,totalPages)
    if(totalPages < 1) {
        return ''
    }
    return (
            <ul className="pagination">
            {
                pageArray.map(itm => <PaginationItem page={itm} key={itm} currentPage={currentPage} url={url} />)
            }
            </ul>
    )
}

const PaginationItem = ({page, currentPage, url}) => {
    const pageClassNames = classNames({
        'page-item': true,
        'page-active': page === currentPage
    })
    return (
        <li className={pageClassNames}>
            <Link to={`${url}?page=${page}`} >{page}</Link>
        </li>
    )
}

export default Pagination
