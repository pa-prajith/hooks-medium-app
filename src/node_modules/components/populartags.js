import React, {useEffect} from 'react'
import useFetch from 'hooks/useFetch'
import {Link} from 'react-router-dom'

const PopularTags = () => {
    const apiUrl = '/tags'
    const [{error, response, isLoading}, doFetch] = useFetch(apiUrl)
    useEffect(() => {
        doFetch()
    }, [doFetch])
    return (
        <div className="popular-tags-container">
            <h2>Popular Tags</h2>
            { !isLoading && response &&
            <div className="tags">
                {
                    <ul className="feed-tag">
                        {
                            response.tags && response.tags.map(t => (<li key={t}><Link to={`/tags/${t}`}>{t}</Link></li>))
                        }
                    </ul>
                }
            </div>
            }
        </div>
    )
}

export default PopularTags
